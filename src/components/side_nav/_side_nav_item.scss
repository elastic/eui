.euiSideNavItem--root {
  &.euiSideNavItem--rootIcon > .euiSideNavItem__items {
    margin-left: $euiSizeL;
  }

  & > .euiSideNavItem__items {
    position: static;
    margin-left: 0;

    &::after {
      display: none;
    }
  }

  & + & {
    margin-top: $euiSizeXL;
  }
}

.euiSideNavItem--trunk {
  color: $euiSideNavRootTextcolor; /* 2 */

  & > .euiSideNavItem__items {
    margin-left: $euiSizeS;
    width: 100%;
  }
}

.euiSideNavItem--branch {
  /**
  * 1. Draw the vertical line to group an expanded item's child items together.
  */
  position: relative;
  color: $euiSideNavBranchTextcolor; /* 2 */

  &::after { /* 1 */
    position: absolute;
    content: '';
    top: 0;
    bottom: 0;
    width: 1px;
    background: $euiBorderColor;
    left: 0;
  }

  // If this is actually the last item, we don't want the vertical line to stretch all the way down
  &:last-of-type::after {
    height: $euiSizeM;
  }

  & > .euiSideNavItem__items {
    margin-left: $euiSize;
  }
}

.euiSideNavItem--emphasized {
  background: $euiSideNavEmphasizedBackgroundColor;
  color: $euiSideNavRootTextcolor;
  // The large y values allow the shadow to stretch beyond the side nav bounds to it's parents container
  box-shadow: 100px 0 0 0 $euiSideNavEmphasizedBackgroundColor, -100px 0 0 0 $euiSideNavEmphasizedBackgroundColor;

  // Remove any extra box-shadows from nested emphasized items
  .euiSideNavItem--emphasized {
    background: transparent;
    box-shadow: none;
  }
}
