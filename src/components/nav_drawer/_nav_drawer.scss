// Nav drawer. Global application navigation.

.euiNavDrawer {
  width: $euiNavDrawerWidthCollapsed;
  height: calc(100% - #{$euiNavDrawerTopPosition});
  position: fixed;
  left: 0;
  top: $euiNavDrawerTopPosition;
  overflow: hidden;
  z-index: $euiZHeader;
  background: $euiHeaderBackgroundColor;
  box-shadow: $euiNavDrawerSideShadow;
  transition: width $euiAnimSpeedExtraFast $euiAnimSlightResistance;
  display: flex;

  .euiNavDrawerMenu {
    @include euiScrollBar;
    overflow-y: auto;
    width: $euiNavDrawerWidthCollapsed;
    height: 100%;

    &-hasFooter {
      padding-bottom: $euiSizeXXL;
    }

    .euiListGroupItem__label {
      transition: all $euiAnimSpeedExtraFast;
    }
  }

  .euiListGroupItem__label {
    line-height: $euiSize;
  }

  .euiListGroup-isFooter {
    @include euiBottomShadowFlat;
    background-color: $euiColorEmptyShade;
    position: fixed;
    bottom: 0;
    width: $euiNavDrawerWidthCollapsed;
    transition: width $euiAnimSpeedExtraFast;
    z-index: $euiZHeader + 1;
  }

  &.euiNavDrawer-isCollapsed  {
    &.euiNavDrawer-flyoutIsExpanded {
      width: $euiNavDrawerWidthCollapsed + $euiNavDrawerWidthExpanded;
    }

    .euiNavDrawerMenu {
      // Prevents scrollbar from overlapping links in collapsed form
      // sass-lint:disable-block no-vendor-prefixes
      // sass-lint:disable-block no-misspelled-properties
      -ms-overflow-style: -ms-autohiding-scrollbar;
      scrollbar-width: none;

      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }

      .euiListGroupItem__button {
        max-width: $euiSizeXL;
      }

      .euiNavDrawer__expandButton .euiListGroupItem__button {
        max-width: $euiNavDrawerWidthCollapsed;
      }
    }
  }

  &.euiNavDrawer-isExpanded {
    width: $euiNavDrawerWidthExpanded;

    .euiNavDrawerMenu,
    .euiListGroup-isFooter {
      width: $euiNavDrawerWidthExpanded;
    }

    &.euiNavDrawer-flyoutIsExpanded {
      width: $euiNavDrawerWidthExpanded + $euiNavDrawerWidthCollapsed;
    }
  }
}

@include euiBreakpoint('xs', 's') {
  .euiNavDrawer {
    width: 0;

    &.euiNavDrawer-isExpanded .euiNavDrawerMenu {
      // width: $euiNavDrawerWidthExpanded;

      .euiListGroupItem__icon {
        margin-right: $euiSizeM;
      }
    }

    &.euiNavDrawer-flyoutIsCollapsed .euiNavDrawerFlyout {
      width: 0;
      transition-duration: 0s;
    }

    // No expand toggle on mobile

    .euiNavDrawerMenu-hasFooter {
      padding-bottom: 0;
    }

    .euiListGroup-isFooter {
      display: none;
    }
  }
}
