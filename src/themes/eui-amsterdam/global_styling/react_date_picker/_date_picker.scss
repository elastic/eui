/* This file is a heavy retheme of react-datepicker's Sass as of v1.4.0
** https://github.com/Hacker0x01/react-datepicker
**
** In places where features were disabled, I've commented out the original Sass
** selectors rather than removing it so we can better understand what's changed.
** Commented out selectors that don't have properties indicate that we are not
** using those dom elements for styling of any kind. For example, react-datepicker
** has lots of pointer arrows attached to its popovers, but we choose not to render
** then in any way.
**
** Similarly, you will also find several times where we use display: none to
** completely remove extraneous UI (they had some overly obvious legends for example).
*/


// The only "new" css in this component is a wrapper class for dealing with shadows.
// This is mostly here so that we can provide an inline version that doesn't have the
// shadows and depth.
.euiDatePicker {
  .euiFormControlLayout {
    height: auto;
  }

  &.euiDatePicker--shadow {
    .react-datepicker-popper {
      @include euiBottomShadowMedium;
      border: $euiBorderThin;
      background-color: $euiColorEmptyShade;
      border-radius: 0 0 $euiBorderRadius $euiBorderRadius;
    }

    // If the shadow is on, and it is inline, we need to put the shadow on the datepicker
    // itself rather than the popper.
    &.euiDatePicker--inline {
      .react-datepicker {
        @include euiBottomShadowMedium;
        border: $euiBorderThin;
        background-color: $euiColorEmptyShade;
        border-radius: $euiBorderRadius;
      }

      .euiFormControlLayout {
        display: inline-block;
        width: auto;
      }
    }
  }
}

.react-datepicker {
  font-size: $euiFontSizeXS;
  color: $euiTextColor;
  display: flex;
  border-radius: $euiBorderRadius;
  padding: $euiDatePickerPadding;
  justify-content: center;
}

.euiDatePicker.euiDatePicker--shadow .react-datepicker-popper {
  z-index: $euiZContentMenu;
  animation: euiAnimFadeIn $euiAnimSpeedFast ease-in;

  &[data-placement^='top'] {
    @include euiBottomShadowFlat;
    border-radius: $euiBorderRadius $euiBorderRadius 0 0;
  }

  &[data-placement^='right'] {
    margin-left: 0;
  }

  &[data-placement^='left'] {
    margin-right: 0;
  }
}

// Hidden things that we don't want to show/use, ever
.react-datepicker__current-month,
.react-datepicker-time__header {
  display: none;
}

.react-datepicker__screenReaderOnly {
  @include euiScreenReaderOnly;
}

.react-datepicker__focusTrap {
  display: flex;
  justify-content: center;
}

.react-datepicker__header {
  display: flex;
  flex-direction: column;
  margin-top: $euiSizeXL + $euiDatePickerGap;
}

.react-datepicker-time__header {
  @include euiTextTruncate;
}

.react-datepicker__month {
  text-align: center;
  border-radius: $euiBorderRadius;
}

.react-datepicker__input-container {
  position: relative;
}

// On small screens put the times at the bottom
@include euiBreakpoint('xs') {
  .react-datepicker__focusTrap,
  .react-datepicker {
    flex-direction: column;
  }

  .react-datepicker__time-box {
    margin-top: 0;
  }
}
