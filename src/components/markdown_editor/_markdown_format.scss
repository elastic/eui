// The Markdown Format uses by default a few EUI components.
// Uses the EuiText to wrap all the content.
// Uses the EuiLink, EuiCode and EuiHorizontalRule.

@mixin adjustBorderColors($color) {

  .euiMarkdownFormat__blockquote {
    border-left-color: $color;
  }

  .euiHorizontalRule {
    background-color: $color;
    color: $color; // ensure that firefox gets the `currentColor`
  }

  .euiMarkdownFormat__table {
    border-left: 1px solid $color;
  }

  .euiMarkdownFormat__table th,
  .euiMarkdownFormat__table td {
    border-top: 1px solid $color;
    border-bottom: 1px solid $color;

    &:last-child {
      border-right: 1px solid $color;
    }
  }

  .euiMarkdownFormat__table tr {
    border-top: 1px solid $color;
  }
}

.euiMarkdownFormat {
  // We want the default text to use a gray scale 
  $euiMarkdownAlphaShade: rgba($euiColorFullShade, .15);

  $euiTextColors: (
    default: $euiMarkdownAlphaShade,
    subdued: $euiTextSubduedColor,
    secondary: $euiColorSecondary,
    success: $euiColorSuccess,
    accent: $euiColorAccent,
    warning: $euiColorWarning,
    danger: $euiColorDanger,
    ghost: $euiColorGhost,
    custom: currentColor,
  );

  // We're adjusting the borders of the elements.
  // For the custom color we're setting the value to the `currentColor` so we can get the current value of the color property or the computed value
  @each $name, $color in $euiTextColors {
    .euiTextColor--#{$name} {
      @include adjustBorderColors($color);
    }
  }

  // Blockquotes
  .euiMarkdownFormat__blockquote {
    border-left-style: solid;
  }

  // Checkboxes
  .euiCheckbox {
    // sass-lint:disable-block no-important
    margin-bottom: 0 !important;
  }

  .euiCheckbox .euiCheckbox__input + .euiCheckbox__square  {
    top: 50%;
    transform: translateY(-50%);
  }

  // Tables
  .euiMarkdownFormat__table {
    display: block;
    width: 100%;
    overflow: auto;
    border-spacing: 0;
    border-collapse: collapse;
  }
}
