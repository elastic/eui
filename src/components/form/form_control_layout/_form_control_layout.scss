.euiFormControlLayout {
  @include euiFormControlSize;

  display: inline-block;
  position: relative;

  &.euiFormControlLayout--fullWidth {
    width: 100%;
    max-width: 100%;
  }

  .euiFormControlLayout__icon {
    position: absolute;
    top: $euiSizeM;
    left: $euiSizeM;
    pointer-events: none;
  }

  .euiFormControlLayout__iconButton {
    pointer-events: all;
    top: $euiSizeM - 1px;
  }

  .euiFormControlLayout__clear {
    position: absolute;
    top: $euiSizeM;
    right: $euiSizeM;

    @include euiFormControlLayout__clear('.euiFormControlLayout__clearIcon');

    // Loading spinner needs adjustment if clear also exists
    ~ .euiFormControlLayout__loading {
      right: $euiSizeM*3;
    }
  }

  .euiFormControlLayout__icon--right {
    left: auto;
    right: $euiSizeM;

    // Loading spinner needs adjustment if icon also exists like selects.
    ~ .euiFormControlLayout__loading {
      right: $euiSizeM*3;
    }

    // Same with clear buttons
    ~ .euiFormControlLayout__clear {
      right: $euiSizeM*3;

      ~ .euiFormControlLayout__loading {
        right: $euiSizeM*5;
      }
    }
  }

  .euiFormControlLayout__loading {
    position: absolute;
    top: $euiSizeM;
    right: $euiSizeM;
  }
}

.euiFormControlLayout--compressed {
  width: auto;

  .euiFormControlLayout__icon,
  .euiFormControlLayout__loading {
    // match to compressed top padding
    top: $euiSizeM/2;
    //@include size(12px);
  }
}
