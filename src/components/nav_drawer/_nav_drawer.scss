// Nav drawer. Global application navigation.

.euiNavDrawer {
  width: $euiNavDrawerWidthCollapsed;
  height: calc(100% - #{$euiHeaderSize});
  position: fixed;
  left: 0;
  top: $euiHeaderSize;
  overflow-x: hidden;
  overflow-y: scroll;
  z-index: $euiZHeader - 1;
  background: $euiHeaderBackgroundColor;
  box-shadow: $euiNavDrawerSideShadow;
  transition: width $euiAnimSpeedFast $euiAnimSlightResistance;
  transition-delay: $euiNavDrawerContractingDelay;

  &.euiNavDrawer-isExpanded {
    width: $euiNavDrawerWidthExpanded;
    transition-delay: $euiNavDrawerExpandingDelay;

    .euiNavDrawerMenu .euiListGroupItem__label {
      opacity: 1;
      transition-delay: (
        $euiNavDrawerExpandingDelay + $euiNavDrawerMenuAddedDelay
      );
    }

    &.euiNavDrawer-flyoutIsExpanded {
      width: $euiNavDrawerWidthExpanded * 2;
    }

    &.euiNavDrawer-flyoutIsAnimating {
      transition-delay: 0s;
    }
  }

  .euiNavDrawerMenu .euiListGroupItem__label {
    white-space: nowrap;
    opacity: 0;
    transition: opacity $euiAnimSpeedNormal;
    transition-delay: (
      $euiNavDrawerContractingDelay + $euiNavDrawerMenuAddedDelay
    );
  }
}

@include euiBreakpoint('xs', 's') {
  .euiNavDrawer {
    width: $euiNavDrawerWidthExpanded;
    height: calc(100% - #{$euiHeaderSizeMobile});
    top: $euiHeaderSizeMobile;

    &.euiNavDrawer-mobileIsHidden {
      width: 0;
    }

    &.euiNavDrawer-isExpanded.euiNavDrawer-flyoutIsExpanded {
      width: $euiNavDrawerWidthCollapsed + $euiNavDrawerWidthExpanded;

      .euiNavDrawerFlyout {
        left: $euiNavDrawerWidthCollapsed;
      }
    }

    &.euiNavDrawer-flyoutIsExpanded .euiNavDrawerMenu {
      width: $euiNavDrawerWidthCollapsed;
    }

    &.euiNavDrawer-flyoutIsCollapsed .euiNavDrawerFlyout {
      width: 0;
      transition-delay: 0s;
      transition-duration: 0s;
    }

    .euiNavDrawerMenu .euiListGroupItem__label {
      opacity: 1;
    }
  }
}
