.euiFilePicker {
  .euiFilePicker__wrap {
    position: relative;
    display: inline-block;
    max-width: 400px;
    width: 100%;
  }

  // The input is an invisiable dropzone / button
  .euiFilePicker__input {
    position: absolute;
    z-index: 0;
    left: 0;
    top: 0;
  	width: 100%;
  	height: 100%;
  	opacity: 0;
  	overflow: hidden;

    &:hover {
      cursor: pointer;
    }
    &:hover:disabled {
      cursor: not-allowed;
    }
  }

  .euiFilePicker__icon {
    margin-bottom: $euiSize;
    transition: transform $euiAnimSpeedFast $euiAnimSlightResistance;
  }

  /**
   * 1. Don't block the user from dropping files onto the filepicker.
   * 2. Put prompt on top of input, so the clear button can intercept the click.
   */
  .euiFilePicker__prompt {
    pointer-events: none; /* 1 */
    position: relative; /* 2 */
    z-index: 1; /* 2 */
    display: block;
    background: $euiColorLightestShade;
    padding: $euiSizeL;
    border-radius: $euiBorderRadius / 2;
    background: $euiFormBackgroundColor;
    box-shadow:
      0 2px 2px -1px rgba(0, 0, 0, 0.1),
      0 0 0 1px transparentize($euiColorFullShade, .92),
      inset #{-$euiFormMaxWidth} 0 0 0 $euiFormBackgroundColor;
    text-align: center;
    transition:
      box-shadow $euiAnimSpeedNormal ease-in, background $euiAnimSpeedNormal ease-in,
      background-color $euiAnimSpeedSlow ease-in,
      border-color $euiAnimSpeedSlow ease-in,
      color $euiAnimSpeedSlow ease-in;
  }

  .euiFilePicker__promptText {
    @include euiFontSizeS;
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /**
   * 1. Undo the pointer-events: none applied to the enclosing prompt.
   */
  .euiFilePicker__clearButton {
    pointer-events: auto; /* 1 */
  }

  // Hover and focus
  .euiFilePicker__input:hover:not(:disabled) + .euiFilePicker__prompt,
  .euiFilePicker__input:focus + .euiFilePicker__prompt {
    text-decoration: underline;

    .euiFilePicker__icon {
      transform: scale(1.1);
    }
  }

  // Focus
  .euiFilePicker__input:focus + .euiFilePicker__prompt {
    box-shadow:
      0 4px 4px -2px rgba(0, 0, 0, 0.1),
      0 0 0 1px transparentize($euiColorFullShade, .84),
      inset 0 0 0 0 tintOrShade($euiColorEmptyShade, 0%, 20%),
      inset 0 -2px 0 0 $euiColorPrimary;
  }

  // Disabled
  .euiFilePicker__input:disabled + .euiFilePicker__prompt {
    cursor: not-allowed;
    background: darken($euiColorLightestShade, 2%);
    box-shadow: 0 0 0 1px transparentize($euiColorFullShade, .92);
  }


  // When the filepicker has files in it
  &.euiFilePicker-hasFiles .euiFilePicker__promptText {
    font-weight: $euiFontWeightBold;
  }

  // When you are dragging files over the dropzone
  &.euiFilePicker__showDrop .euiFilePicker__prompt {
    box-shadow:
      0 4px 4px -2px rgba(0, 0, 0, 0.1),
      0 0 0 1px transparentize($euiColorFullShade, .84),
      inset 0 0 0 0 tintOrShade($euiColorEmptyShade, 0%, 20%),
      inset 0 -2px 0 0 $euiColorPrimary;

    .euiFilePicker__promptText {
      text-decoration: underline;
    }

    .euiFilePicker__icon {
      transform: scale(1.1);
      color: $euiColorPrimary;
    }
  }
}
